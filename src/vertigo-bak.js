// TODO

// Dynamic dot size
// Diff before animating
// Group timeouts
// Cache coordinates instead of pulling them from the DOM
// Performance?
// Options - timeout duration (option to disable it)
// Options - slide duration
// Options - loop
// Inital image

const circlesCount = 20;
const size = 500;

const dotRadius = 1;

const rMax = size / 2;
const rStep = rMax / circlesCount;
const dotStep = 6;

function getRandomScale() {
  const random = Math.random();
  if (random < 0.4) {
    return 1;
  } else if (random < 0.6) {
    return 2;
  }

  return 4;
}

function generateRandomImage() {
  const image = [
    [getRandomScale()],
  ];

  for (let i = 1; i <= circlesCount; i++) {
    const dotCount = i * dotStep;
    image[i] = [];

    for (let j = 0; j < dotCount; j++) {
      image[i].push(getRandomScale())
    }
  }

  return image;
}


function createSvg(size, className = 'Dots') {
  const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
  svg.setAttribute('class', className);
  svg.setAttribute('viewBox', `${ size / -2 } ${ size / -2 } ${ size } ${ size }`);
  svg.style.width = size;
  svg.style.height = size;

  return svg;
}

function createDot(x, y, r, i, j, className = 'Dots-dot') {
  const dot = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
  dot.setAttribute('class', `${ className } Dots-dot--${ i }-${ j }`);
  dot.setAttribute('cx', x);
  dot.setAttribute('cy', y);
  dot.setAttribute('r', r);

  const scaleFactor = 2;

  // dot.setAttribute(
  //   'transform',
  //   `translate(${ -x * (scaleFactor - 1) }, ${ -y * (scaleFactor - 1) }) scale(${ scaleFactor })`
  // );

  return dot;
}
//
function createRect(x, y, r, i, j, className = 'Dots-rect') {
  const rectWidth = 12;
  const dot = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
  dot.setAttribute('class', `${ className } Dots-rect--${ i }-${ j }`);
  dot.setAttribute('x', x - (rectWidth / 2));
  dot.setAttribute('y', y - (rectWidth / 2));
  dot.setAttribute('width', rectWidth);
  dot.setAttribute('height', rectWidth);

  const scaleFactor = 2;

  // dot.setAttribute(
  //   'transform',
  //   `translate(${ -x * (scaleFactor - 1) }, ${ -y * (scaleFactor - 1) }) scale(${ scaleFactor })`
  // );

  return dot;
}

const svg = createSvg(size);

const centerDot = createDot(0, 0, dotRadius, 0, 0);

svg.appendChild(centerDot);

const dots = [
  [centerDot],
];

for (let i = 1; i <= circlesCount; i++) {
  const r = i * rStep;

  const dotCount = i * dotStep;
  const dotAngleStep = 360 / dotCount;

  dots[i] = [];

  for (let j = 0; j < dotCount; j++) {
    const angle = Math.PI * (dotAngleStep * j) / 180;

    const x = r * Math.cos(angle);
    const y = r * Math.sin(angle);

    const dot = createDot(x, y, dotRadius, i, j);

    dots[i].push(dot)

    dot.addEventListener('click', () => {
      dot.classList.toggle('on');
    });

    svg.appendChild(dot);
    // svg.appendChild(createRect(x, y, dotRadius, i, j))
  }
}

document.querySelector('#root').appendChild(svg);

function drawImage(image) {
  requestAnimationFrame(() => {
    image.forEach((parallel, i) => {
      parallel.forEach((scale, j) => {
        // if (scale) {
        const dot = dots[i][j];
        const x = dot.getAttribute('cx');
        const y = dot.getAttribute('cy');

        setTimeout(() => {
          // dot.setAttribute(
          //   'transform',
          //   `translate(${ -x * (scale - 1) }, ${ -y * (scale - 1) }) scale(${ scale })`
          // );

          dot.style.transform = `translate(${ -x * (scale - 1) }px, ${ -y * (scale - 1) }px) scale(${ scale })`;
        }, Math.floor(Math.random() * 1000));
        // }
      });
    });
  });
}

const image  = [[1],[1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

const helloImage = [[1],[1,1,4,4,4,1],[1,1,4,4,4,4,4,4,4,1,1,1],[1,1,1,4,4,4,4,2,1,1,1,2,4,4,1,1,1,1],[4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,2,4],[4,4,4,4,1,1,1,1,1,1,1,1,4,4,1,1,2,1,1,1,1,4,4,1,1,1,2,4,4,4],[1,2,4,4,1,1,1,1,1,1,1,1,1,1,1,4,4,2,1,4,2,1,4,2,1,2,1,1,1,1,1,4,4,4,2,1],[1,2,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,2,2,4,2,1,4,4,2,1,1,1,1,1,1,1,1,2,4,1,1,1,1],[1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,2,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4],[4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4],[2,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,4,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,2,1],[1,2,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,2,1,1],[1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1],[1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1],[1,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1],[4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,4,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,2,2],[4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,2,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

console.log(helloImage);

const coolImage = [[1],[1,1,2,1,1,1],[1,4,4,1,2,4,1,1,1,2,1,1],[2,4,2,4,4,1,1,4,2,1,1,2,4,1,4,4,2,1],[1,4,1,1,1,4,2,1,1,4,2,1,1,1,2,1,4,2,1,1,2,4,1,1],[1,4,2,1,1,1,4,2,1,1,4,4,1,1,1,1,1,2,4,2,2,4,1,2,2,4,4,1,1,1],[1,2,4,2,1,1,1,4,2,1,4,4,4,2,1,1,1,1,1,1,1,1,2,4,1,4,2,2,4,4,4,2,1,1,1,1],[1,1,1,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,2,4,1,4,2,1,1,1,1,1,1,1,1],[1,1,2,2,2,2,4,4,2,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,1,2,4,2,4,4,2,4,2,4,2,1,4,4,2,1,1,1,1,2,4,2,1],[1,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,1,2,4,1,1,1,2,4,4,4,1,1,4,2,1,1,1,1,1,2,1,1,1,1,2,4,4,2,1,1],[1,4,2,1,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,1,1,1,4,2,1,1,1,1,1,2,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,1,1,2,2,1],[2,4,1,1,1,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,1,1,1,1,4,1,1,2,2,1,1,1,1,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,1,2,2,1,4,2,1],[1,4,2,1,1,1,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,2,1,1,4,4,1,1,2,4,4,4,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,1,4,2,1],[1,2,4,2,1,2,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,4,4,4,4,1,1,1,1,1,1,2,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,2,4,4,4,1,1],[1,1,2,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,2,1,2,2,1,1,1],[1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,4,1,1,4,1,1,1,1,1,1,1,2,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,4,4,4,4,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,2,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,2,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

// drawImage(image);
// setTimeout(() => { drawImage(helloImage); }, 3000);
// setTimeout(() => { drawImage(coolImage); }, 6000);
//
// drawImage(helloImage);

// const image1 = generateRandomImage();
// const image2 = generateRandomImage();
// const image3 = generateRandomImage();
//
// drawImage(image1);
// setTimeout(() => { drawImage(image2); }, 3000);
// setTimeout(() => { drawImage(image3); }, 6000);

const hello = new Image(500, 500);
hello.src = '/test-images/cool.png';
// hello.src = '/test-images/ds.jpeg';
console.log(hello);


const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
hello.addEventListener('load', () => {
  ctx.drawImage(hello, 0, 0, 500, 500);

  hello.style.display = 'none';

  const HELLO = [[1]];

  for (let i = 1; i <= circlesCount; i++) {
    const r = i * rStep;

    const dotCount = i * dotStep;
    const dotAngleStep = 360 / dotCount;

    HELLO[i] = [[]];

    for (let j = 0; j < dotCount; j++) {
      const angle = Math.PI * (dotAngleStep * j) / 180;

      const x = r * Math.cos(angle);
      const y = r * Math.sin(angle);

      const rectWidth = rStep;

      const x1 = x - (rectWidth / 2) + rMax;
      const y1 = y - (rectWidth / 2) + rMax;

      const imageData = ctx.getImageData(x1, y1, rectWidth, rectWidth);

      let brightness = 0;

      for (let k = 0; k < imageData.data.length; k += 4) {
        const r = imageData.data[k];
        const g = imageData.data[k + 1];
        const b = imageData.data[k + 2];
        const a = imageData.data[k + 3];

        brightness += 0.299 * r + 0.587 * g + 0.114 * b;
      }

      brightness /= (imageData.data.length / 4)

      if (brightness < 100) {
        HELLO[i][j] = 1;
      } else if (brightness < 200) {
        HELLO[i][j] = 2;
      } else {
        HELLO[i][j] = 4;
      }

      // if (brightness < 40) {
      //   HELLO[i][j] = 1;
      // } else if (brightness < 80) {
      //   HELLO[i][j] = 1.5;
      // } else if (brightness < 120) {
      //   HELLO[i][j] = 2;
      // } else if (brightness < 160) {
      //   HELLO[i][j] = 2.5;
      // } else if (brightness < 200) {
      //   HELLO[i][j] = 3;
      // } else {
      //   HELLO[i][j] = 4;
      // }

      ctx.strokeStyle = 'orange';
      ctx.strokeRect(x1, y1, rectWidth, rectWidth);
    }
  }

  console.log(JSON.stringify(HELLO))

  drawImage(HELLO);

});
