parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RhqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEBUG=!1,exports.MAXIMUM_BRIGHTNESS=255,exports.DOT_INCREMENT_STEP=6,exports.dotsDefaultOptions={resolution:25,minimumDotRadius:1,maximumDotRadius:5,distanceBetweenDots:2,invert:!0},exports.spiralDefaultOptions={minimumLineWidth:1,maximumLineWidth:5,distanceBetweenLines:1,startingRadius:4,invert:!0};
},{}],"eAYL":[function(require,module,exports) {
"use strict";function t(t,e){return void 0===e&&(e=2),parseFloat(t.toFixed(e))}function e(t,e,a,r){for(var n=t.getImageData(e,a,r,r),i=0,o=0;o<n.data.length;o+=4){var s=n.data[o],d=n.data[o+1],g=n.data[o+2];n.data[o+3];i+=.299*s+.587*d+.114*g}return i/(n.data.length/4)}function a(t,e,a){var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e?t/-2:0;return r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("class",a),r.setAttribute("viewBox",n+" "+n+" "+t+" "+t),r}function r(t,e,a,r){return t/e*(r-a)+a}function n(t,e,a){var r=document.createElement("canvas");r.width=e,r.height=e;var n=r.getContext("2d"),i=new Image;i.addEventListener("load",function(){var t,o=0,s=0;i.height>i.width?(o=(i.height-i.width)/2,t=i.width):(s=(i.width-i.height)/2,t=i.height),n.drawImage(i,s,o,t,t,0,0,e,e),a(r)}),i.src=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFixed=t,exports.getRectBrightness=e,exports.createSvg=a,exports.mapRange=r,exports.drawImageOnCanvas=n;
},{}],"XFcH":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./helpers"),r=require("./constants");function n(t,n,o){var a=e.mapRange(t,r.MAXIMUM_BRIGHTNESS,n,o);return e.toFixed(a,2)}function o(t,e,r,n){return{x:t*Math.cos(e)-r/2+n/2,y:t*Math.sin(e)-r/2+n/2}}function a(a,i,s){var u=t(t({},r.dotsDefaultOptions),i);e.drawImageOnCanvas(a,500,function(t){var a=t.getContext("2d"),i=[[]],c=250/(u.resolution+.5),d=[],m=o(0,0,c,500),f=m.x,h=m.y,l=e.getRectBrightness(a,f,h,c);u.invert||(l=255-l),i[0][0]=n(l,u.minimumDotRadius,u.maximumDotRadius),r.DEBUG&&d.push({x:f,y:h});for(var p=1;p<=u.resolution;p++){var v=p*c,g=p*r.DOT_INCREMENT_STEP,y=360/g;i[p]=[];for(var x=0;x<g;x++){var D=o(v,Math.PI*(y*x)/180,c,500),R=D.x,M=D.y,E=e.getRectBrightness(a,R,M,c);u.invert||(E=255-E),i[p][x]=n(E,u.minimumDotRadius,u.maximumDotRadius),r.DEBUG&&d.push({x:R,y:M})}}s(i),r.DEBUG&&(a.strokeStyle="orange",d.forEach(function(t){a.strokeRect(t.x,t.y,c,c)}),document.querySelector(".Debug--dots").innerHTML="",document.querySelector(".Debug--dots").appendChild(t))})}exports.default=a;
},{"./helpers":"eAYL","./constants":"RhqW"}],"GOHQ":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("./constants"),o=require("./helpers"),s=e(require("./convert-image-to-dots")),r=function(){function e(e){this.options=t(t({},i.dotsDefaultOptions),e),this.radiusGrowStep=2*this.options.maximumDotRadius+this.options.distanceBetweenDots;var s=2*this.options.resolution*this.radiusGrowStep+2*this.options.maximumDotRadius;this.svg=o.createSvg(s,!0,"Vertigo"),this.generateDots()}return e.createDot=function(t,e,i,o){void 0===o&&(o="Dots-dot");var s=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("class",o),s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("r",i.toString()),{element:s,x:t,y:e,scale:1}},e.prototype.generateDots=function(){var t=e.createDot("0","0",this.options.minimumDotRadius);this.dots=[[t]],this.svg.appendChild(t.element);for(var o=1;o<=this.options.resolution;o++){var s=o*this.radiusGrowStep,r=o*i.DOT_INCREMENT_STEP,n=360/r;this.dots[o]=[];for(var a=0;a<r;a++){var u=Math.PI*(n*a)/180,h=(s*Math.cos(u)).toFixed(3),p=(s*Math.sin(u)).toFixed(3),c=e.createDot(h,p,this.options.minimumDotRadius);this.dots[o].push(c),this.svg.appendChild(c.element)}}},e.prototype.drawImage=function(t){var e=this;this.imageURL=null,t.forEach(function(t,i){t.forEach(function(t,o){var s=e.dots[i];if(s){var r=s[o];r.scale!==t&&(r.scale=t,r.element.setAttribute("r",t.toString()))}})})},e.prototype.convertImage=function(t,e){var i=this;s.default(t,this.options,function(o){i.drawImage(o),i.imageURL=t,e&&e(o)})},e.prototype.removeDots=function(){this.dots.forEach(function(t){t.forEach(function(t){t.element.parentNode.removeChild(t.element)})})},e.prototype.setOptions=function(e,i){this.options=t(t({},this.options),e),this.radiusGrowStep=2*this.options.maximumDotRadius+this.options.distanceBetweenDots;var o=2*this.options.resolution*this.radiusGrowStep+2*this.options.maximumDotRadius;this.svg.setAttribute("viewBox",o/-2+" "+o/-2+" "+o+" "+o),this.removeDots(),this.generateDots(),this.imageURL&&this.convertImage(this.imageURL,i)},e.prototype.getOptions=function(){return t({},this.options)},e}();exports.default=r;
},{"./constants":"RhqW","./helpers":"eAYL","./convert-image-to-dots":"XFcH"}],"IkyE":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||function(){return(e=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./helpers"),i=require("./constants");function n(n,a,r){var s=e(e({},i.spiralDefaultOptions),a);t.drawImageOnCanvas(n,500,function(e){for(var n=e.getContext("2d"),a=[],o=[],u=Math.round(.8*(s.distanceBetweenLines+s.maximumLineWidth)),d=(s.distanceBetweenLines+s.maximumLineWidth)/(2*Math.PI),h=Math.floor((500-2*s.startingRadius)/(s.distanceBetweenLines+s.maximumLineWidth))*Math.PI,c=3/s.startingRadius,m=0;m<h;m+=c){var p=s.startingRadius+d*m,l=t.toFixed(250+p*Math.cos(m),3),g=t.toFixed(250+p*Math.sin(m),3);a.push({x:l,y:g});var f=t.getRectBrightness(n,l,g,u);s.invert||(f=255-f);var v=t.mapRange(f,i.MAXIMUM_BRIGHTNESS,s.minimumLineWidth,s.maximumLineWidth);c=3/p,o.push({x:l,y:g,width:v})}r(o),i.DEBUG&&(n.strokeStyle="orange",a.forEach(function(e){n.strokeRect(e.x,e.y,u,u)}),document.querySelector(".Debug--spiral").innerHTML="",document.querySelector(".Debug--spiral").appendChild(e))})}exports.default=n;
},{"./helpers":"eAYL","./constants":"RhqW"}],"Idg0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=.2,e=function(t,e){var n=e.x-t.x,r=e.y-t.y;return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}},n=function(n,r,a,u){void 0===u&&(u=!1);var o=e(r||n,a||n),i=o.angle+(u?Math.PI:0),x=o.length*t;return{x:n.x+Math.cos(i)*x,y:n.y+Math.sin(i)*x}},r=function(t,e,r){var a=n(r[e-1],r[e-2],t),u=n(t,r[e-1],r[e+1],!0);return"C "+a.x+","+a.y+" "+u.x+","+u.y+" "+t.x+","+t.y};function a(t,e){void 0===e&&(e=!0);var n=t.reduce(function(t,e,n,a){return 0===n?"M "+e.x+","+e.y:t+" "+r(e,n,a)},"");return e?n+" Z":n}exports.default=a;
},{}],"Dg0j":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./constants"),i=require("./helpers"),o=r(require("./convert-image-to-spiral")),s=r(require("./smooth-line")),a=null,h=!1,u=500,p=function(){function r(e){this.options=t(t({},n.spiralDefaultOptions),e),this.svg=i.createSvg(u,!1,"Spiral"),this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgPath.setAttribute("class","Spiral-path"),this.svg.appendChild(this.svgPath)}return r.prototype.convertImage=function(t,e){var r=this;o.default(t,this.options,function(n){r.drawImage(n),r.imageURL=t,e&&e(n)})},r.getOuterDots=function(t,e,n){var o=r.getAngleBetweenThreeDots(t,e,n)/2,s=r.getAngleBetweenThreeDots(t,e,{x:e.x+100,y:e.y}),u=i.toFixed(s-o,2),p=e.width/2,g=[{x:i.toFixed(e.x+p*Math.cos(u),2),y:i.toFixed(e.y-p*Math.sin(u),2)},{x:i.toFixed(e.x+p*Math.cos(u+Math.PI),2),y:i.toFixed(e.y-p*Math.sin(u+Math.PI),2)}];return null===a&&(a=u),u>Math.PI&&a<Math.PI&&(h=!h),a=u,h?g.reverse():g},r.getVector=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},r.getAngleBetweenThreeDots=function(t,e,n){var i=r.getVector(e,t),o=r.getVector(e,n);return Math.atan2(o.y,o.x)-Math.atan2(i.y,i.x)},r.prototype.drawImage=function(t){for(var n=[],i=[],o=1;o<t.length-1;o++){var a=t[o-1],h=t[o],u=t[o+1],p=r.getOuterDots(a,h,u);n.push(p[0]),i.push(p[1])}var g=e(n,i.reverse());this.svgPath.setAttribute("d",s.default(g))},r.prototype.setOptions=function(e,r){this.options=t(t({},this.options),e),this.imageURL&&this.convertImage(this.imageURL,r)},r.prototype.getOptions=function(){return t({},this.options)},r}();exports.default=p;
},{"./constants":"RhqW","./helpers":"eAYL","./convert-image-to-spiral":"IkyE","./smooth-line":"Idg0"}],"i0aF":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,o){"function"==typeof e&&e.amd?e([],o):"undefined"!=typeof exports?o():(o(),t.FileSaver={})}(this,function(){"use strict";function e(e,t,o){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){i(n.response,t,o)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof t&&t.global===t?t:void 0,i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(t,i,r){var c=a.URL||a.webkitURL,s=document.createElement("a");i=i||t.name||"download",s.download=i,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?n(s):o(s.href)?e(t,i,r):n(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){n(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(t,i),a);else if(o(t))e(t,a,i);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){n(r)})}}:function(t,o,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,o,n);var r="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&c)&&"object"==typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(t)}else{var u=a.URL||a.webkitURL,f=u.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});a.saveAs=i.saveAs=i,"undefined"!=typeof module&&(module.exports=i)});
},{}],"w4sW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("file-saver");function t(e){var t=e.callback,n=e.label,a=e.max,r=e.min,i=e.name,s=e.step,c=void 0===s?"1":s,u=e.value,o=document.createElement("span");o.innerHTML="("+r+" - "+a+")";var l=document.createElement("label");l.innerHTML=n+": ",l.appendChild(o);var d=document.createElement("span");d.innerHTML=" "+u;var p=document.createElement("input");p.setAttribute("type","range"),p.setAttribute("min",r),p.setAttribute("max",a),p.setAttribute("value",u),p.setAttribute("step",c),p.setAttribute("class","OptionsInput OptionsInput--"+i),p.addEventListener("change",function(e){t(i,e.target.value),d.innerHTML=" "+e.target.value});var v=document.createElement("div");return v.appendChild(l),v.appendChild(p),v.appendChild(d),v}function n(e){var t=e.callback,n=e.label,a=e.name,r=e.value,i=document.createElement("label");i.innerHTML=" "+n;var s=document.createElement("input");s.setAttribute("type","checkbox"),s.setAttribute("checked",r),s.setAttribute("class","OptionsInput OptionsInput--"+a),s.addEventListener("change",function(e){t(a,e.target.checked)}),i.prepend(s);var c=document.createElement("div");return c.appendChild(i),c}exports.createOption=t,exports.createCheckboxOption=n;var a={distanceBetweenDots:"dist",distanceBetweenLines:"dist",startingRadius:"start"};function r(t,n){var r=t.getOptions();console.log(t.imageURL);var i=n;Object.keys(r).forEach(function(e){var t=a[e]||e.substr(0,3);i+="_"+t+"-"+r[e]}),i+=".svg",e.saveAs("data:application/octet-stream;base64,"+btoa(t.svg.outerHTML),i)}exports.downloadSVG=r;
},{"file-saver":"i0aF"}],"USGs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./helpers");function e(){var e=3*Math.random()+1;return r.toFixed(e,2)}function t(r){for(var t=[[e()]],o=1;o<=r;o++){var u=6*o;t[o]=[];for(var a=0;a<u;a++)t[o].push(e())}return t}exports.default=t;
},{"./helpers":"eAYL"}],"utTU":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./vertigo")),a=e(require("./spiral")),n=require("./demo-helpers"),r=e(require("./generate-random-image")),i=document.querySelector(".TestImage--hello"),l=document.querySelector(".SvgWrapper-inner--dots"),o=document.querySelector(".SvgWrapper-svg--dots"),c=document.querySelector(".FileInput--dots"),u=document.querySelector(".Options--dots"),d=document.querySelector(".Button--dotsDownload"),s=document.querySelector(".Button--dotsRandom"),m={minimumDotRadius:1,maximumDotRadius:5,distanceBetweenDots:1,resolution:25,invert:!0};function v(e,t){m[e]=parseInt(t,10),"invert"===e&&(m[e]=Boolean(t),m[e]?l.classList.add("SvgWrapper-inner--invert"):l.classList.remove("SvgWrapper-inner--invert")),b.setOptions(m)}var p=[{callback:v,label:"Resolution",max:50,min:5,name:"resolution",value:25},{callback:v,label:"Minimum dot radius",max:5,min:0,name:"minimumDotRadius",value:1},{callback:v,label:"Maximum dot radius",max:20,min:1,name:"maximumDotRadius",value:5},{callback:v,label:"Distance between dots",max:20,min:0,name:"distanceBetweenDots",value:1}],g={callback:v,label:"Invert colors",name:"invert",value:!0};p.forEach(function(e){u.appendChild(n.createOption(e))}),u.appendChild(n.createCheckboxOption(g));var b=new t.default(m);o.appendChild(b.svg),c.addEventListener("change",function(){var e=c.files[0],t=URL.createObjectURL(e);b.convertImage(t)}),d.addEventListener("click",function(){return n.downloadSVG(b,"vertigo")}),s.addEventListener("click",function(){b.drawImage(r.default(b.getOptions().resolution))}),b.convertImage(i.getAttribute("src"));var S=document.querySelector(".Options--spiral"),f=document.querySelector(".Button--spiralDownload"),h=document.querySelector(".FileInput--spiral"),L=document.querySelector(".SvgWrapper-svg--spiral"),q=document.querySelector(".SvgWrapper-inner--spiral"),y={minimumLineWidth:1,maximumLineWidth:5,distanceBetweenLines:1,startingRadius:3,invert:!0};function x(e,t){y[e]=parseInt(t,10),"invert"===e&&(y[e]=Boolean(t),y[e]?q.classList.add("SvgWrapper-inner--invert"):q.classList.remove("SvgWrapper-inner--invert")),I.setOptions(y)}var k=[{callback:x,label:"Minimum line width",min:0,max:5,name:"minimumLineWidth",value:1},{callback:x,label:"Maximum line width",min:1,max:20,name:"maximumLineWidth",value:5},{callback:x,label:"Distance between lines",min:0,max:10,name:"distanceBetweenLines",value:1},{callback:x,label:"Starting radius",min:3,max:300,name:"startingRadius",value:3}],w={callback:x,label:"Invert colors",name:"invert",value:!0};k.forEach(function(e){S.appendChild(n.createOption(e))}),S.appendChild(n.createCheckboxOption(w));var I=new a.default(y);L.appendChild(I.svg),h.addEventListener("change",function(){var e=h.files[0],t=URL.createObjectURL(e);I.convertImage(t)}),f.addEventListener("click",function(){return n.downloadSVG(I,"spiral")}),I.convertImage(i.getAttribute("src"));var O=document.querySelectorAll(".TestImageButton");Array.prototype.slice.call(O).forEach(function(e){e.addEventListener("click",function(e){var t=document.querySelector(e.target.getAttribute("data-image")).getAttribute("src");"dots"===e.target.getAttribute("data-type")?b.convertImage(t):I.convertImage(t)})});
},{"./vertigo":"GOHQ","./spiral":"Dg0j","./demo-helpers":"w4sW","./generate-random-image":"USGs"}]},{},["utTU"], null)
//# sourceMappingURL=/vertigo/demo.2d2e21a1.js.map