parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"RhqW":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.DEBUG=!1,exports.MAXIMUM_BRIGHTNESS=255,exports.DOT_INCREMENT_STEP=6,exports.dotsDefaultOptions={resolution:25,minimumDotRadius:1,maximumDotRadius:5,distanceBetweenDots:2},exports.spiralDefaultOptions={minimumLineWidth:1,maximumLineWidth:5,distanceBetweenLines:1,startingRadius:4};
},{}],"eAYL":[function(require,module,exports) {
"use strict";function t(t,e){return void 0===e&&(e=2),parseFloat(t.toFixed(e))}function e(t,e,a,r){for(var n=t.getImageData(e,a,r,r),i=0,o=0;o<n.data.length;o+=4){var d=n.data[o],s=n.data[o+1],g=n.data[o+2];n.data[o+3];i+=.299*d+.587*s+.114*g}return i/(n.data.length/4)}function a(t,e,a){var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=e?t/-2:0;return r.setAttribute("class",a),r.setAttribute("viewBox",n+" "+n+" "+t+" "+t),r}function r(t,e,a,r){return t/e*(r-a)+a}function n(t,e,a){var r=document.createElement("canvas");r.width=e,r.height=e;var n=r.getContext("2d"),i=new Image;i.addEventListener("load",function(){var t,o=0,d=0;i.height>i.width?(o=(i.height-i.width)/2,t=i.width):(d=(i.width-i.height)/2,t=i.height),n.drawImage(i,d,o,t,t,0,0,e,e),a(r)}),i.src=t}exports.__esModule=!0,exports.toFixed=t,exports.getRectBrightness=e,exports.createSvg=a,exports.mapRange=r,exports.drawImageOnCanvas=n;
},{}],"XFcH":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};exports.__esModule=!0;var e=require("./helpers"),r=require("./constants");function n(t,n,o){var a=e.mapRange(t,r.MAXIMUM_BRIGHTNESS,n,o);return e.toFixed(a,2)}function o(t,e,r,n){return{x:t*Math.cos(e)-r/2+n/2,y:t*Math.sin(e)-r/2+n/2}}function a(a,s,i){var u=t({},r.dotsDefaultOptions,s);e.drawImageOnCanvas(a,500,function(t){var a=t.getContext("2d"),s=[[]],c=250/(u.resolution+.5),h=[],m=o(0,0,c,500),d=m.x,f=m.y,p=e.getRectBrightness(a,d,f,c);s[0][0]=n(p,u.minimumDotRadius,u.maximumDotRadius),r.DEBUG&&h.push({x:d,y:f});for(var l=1;l<=u.resolution;l++){var v=l*c,x=l*r.DOT_INCREMENT_STEP,y=360/x;s[l]=[];for(var g=0;g<x;g++){var R=o(v,Math.PI*(y*g)/180,c,500),D=R.x,E=R.y,M=e.getRectBrightness(a,D,E,c);s[l][g]=n(M,u.minimumDotRadius,u.maximumDotRadius),r.DEBUG&&h.push({x:D,y:E})}}i(s),r.DEBUG&&(a.strokeStyle="orange",h.forEach(function(t){a.strokeRect(t.x,t.y,c,c)}),document.querySelector("body").appendChild(t))})}exports.default=a;
},{"./helpers":"eAYL","./constants":"RhqW"}],"GOHQ":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var i=require("./constants"),o=require("./helpers"),s=e(require("./convert-image-to-dots")),r=function(){function e(e){this.options=t({},i.dotsDefaultOptions,e),this.radiusGrowStep=2*this.options.maximumDotRadius+this.options.distanceBetweenDots;var s=2*this.options.resolution*this.radiusGrowStep+2*this.options.maximumDotRadius;this.svg=o.createSvg(s,!0,"Vertigo"),this.generateDots()}return e.createDot=function(t,e,i,o){void 0===o&&(o="Dots-dot");var s=document.createElementNS("http://www.w3.org/2000/svg","circle");return s.setAttribute("class",o),s.setAttribute("cx",t),s.setAttribute("cy",e),s.setAttribute("r",i.toString()),{element:s,x:t,y:e,scale:1}},e.prototype.generateDots=function(){var t=e.createDot("0","0",this.options.minimumDotRadius);this.dots=[[t]],this.svg.appendChild(t.element);for(var o=1;o<=this.options.resolution;o++){var s=o*this.radiusGrowStep,r=o*i.DOT_INCREMENT_STEP,n=360/r;this.dots[o]=[];for(var a=0;a<r;a++){var u=Math.PI*(n*a)/180,h=(s*Math.cos(u)).toFixed(3),p=(s*Math.sin(u)).toFixed(3),c=e.createDot(h,p,this.options.minimumDotRadius);this.dots[o].push(c),this.svg.appendChild(c.element)}}},e.prototype.drawImage=function(t){var e=this;t.forEach(function(t,i){t.forEach(function(t,o){var s=e.dots[i];if(s){var r=s[o];r.scale!==t&&(r.scale=t,r.element.setAttribute("r",t.toString()))}})})},e.prototype.convertImage=function(t,e){var i=this;s.default(t,this.options,function(o){i.drawImage(o),i.imageURL=t,e&&e(o)})},e.prototype.removeDots=function(){this.dots.forEach(function(t){t.forEach(function(t){t.element.parentNode.removeChild(t.element)})})},e.prototype.setOptions=function(e,i){this.options=t({},this.options,e),this.radiusGrowStep=2*this.options.maximumDotRadius+this.options.distanceBetweenDots;var o=2*this.options.resolution*this.radiusGrowStep+2*this.options.maximumDotRadius;this.svg.setAttribute("viewBox",o/-2+" "+o/-2+" "+o+" "+o),this.removeDots(),this.generateDots(),this.imageURL&&this.convertImage(this.imageURL,i)},e}();exports.default=r;
},{"./constants":"RhqW","./helpers":"eAYL","./convert-image-to-dots":"XFcH"}],"1Iky":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var a in e=arguments[i])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};exports.__esModule=!0;var e=require("./helpers"),i=require("./constants");function n(n,a,r){var s=t({},i.spiralDefaultOptions,a);e.drawImageOnCanvas(n,500,function(t){for(var n=t.getContext("2d"),a=[],o=[],u=Math.round(.8*(s.distanceBetweenLines+s.maximumLineWidth)),d=(s.distanceBetweenLines+s.maximumLineWidth)/(2*Math.PI),h=Math.floor((500-2*s.startingRadius)/(s.distanceBetweenLines+s.maximumLineWidth))*Math.PI,c=3/s.startingRadius,m=0;m<h;m+=c){var p=s.startingRadius+d*m,l=e.toFixed(250+p*Math.cos(m),3),f=e.toFixed(250+p*Math.sin(m),3);a.push({x:l,y:f});var g=e.getRectBrightness(n,l,f,u),x=e.mapRange(g,i.MAXIMUM_BRIGHTNESS,s.minimumLineWidth,s.maximumLineWidth);c=3/p,o.push({x:l,y:f,width:x})}r(o),i.DEBUG&&(n.strokeStyle="orange",a.forEach(function(t){n.strokeRect(t.x,t.y,u,u)}),document.querySelector("body").appendChild(t))})}exports.default=n;
},{"./helpers":"eAYL","./constants":"RhqW"}],"Dg+0":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var r=require("./constants"),i=require("./helpers"),n=e(require("./convert-image-to-spiral")),o=null,s=!1,a=500,h=function(){function e(e){this.options=t({},r.spiralDefaultOptions,e),this.svg=i.createSvg(a,!1,"Spiral"),this.svgPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.svgPath.setAttribute("class","Spiral-path"),this.svg.appendChild(this.svgPath)}return e.prototype.convertImage=function(t,e){var r=this;n.default(t,this.options,function(i){r.drawImage(i),r.imageURL=t,e&&e(i)})},e.getOuterDots=function(t,r,n){var a=e.getAngleBetweenThreeDots(t,r,n)/2,h=e.getAngleBetweenThreeDots(t,r,{x:r.x+100,y:r.y}),u=i.toFixed(h-a,2),g=r.width/2,x=[{x:i.toFixed(r.x+g*Math.cos(u),2),y:i.toFixed(r.y-g*Math.sin(u),2)},{x:i.toFixed(r.x+g*Math.cos(u+Math.PI),2),y:i.toFixed(r.y-g*Math.sin(u+Math.PI),2)}];return null===o&&(o=u),u>Math.PI&&o<Math.PI&&(s=!s),o=u,s?x.reverse():x},e.getVector=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.getAngleBetweenThreeDots=function(t,r,i){var n=e.getVector(r,t),o=e.getVector(r,i);return Math.atan2(o.y,o.x)-Math.atan2(n.y,n.x)},e.getBezier=function(t,e,r){return" C "+e.x+" "+e.y+", "+r.x+" "+r.y+", "+t.x+" "+t.y},e.prototype.drawImage=function(t){for(var r="M "+(a/2+this.options.startingRadius)+" "+a/2,n=[r],o=[r],s=[],h=1;h<t.length-1;h++){var u=t[h-1],g=t[h],x=t[h+1],c=e.getOuterDots(u,g,x),p=e.getVector(g,x),y={x:i.toFixed(p.x/2,2),y:i.toFixed(p.y/2,2)};s.push(c.concat([y]))}s.forEach(function(t,r){var i=s[r+1];if(i){var a={x:t[0].x-t[2].x,y:t[0].y-t[2].y},h={x:i[0].x+t[2].x,y:i[0].y+t[2].y};n.push(e.getBezier(i[0],a,h));var u={x:t[1].x-t[2].x,y:t[1].y-t[2].y},g={x:i[1].x+t[2].x,y:i[1].y+t[2].y};o.push(e.getBezier(t[1],g,u))}}),this.svgPath.setAttribute("d",n.join("")+o.reverse().join("")+" Z")},e.prototype.setOptions=function(e,r){this.options=t({},this.options,e),this.imageURL&&this.convertImage(this.imageURL,r)},e}();exports.default=h;
},{"./constants":"RhqW","./helpers":"eAYL","./convert-image-to-spiral":"1Iky"}],"w4sW":[function(require,module,exports) {
"use strict";function e(e){var t=e.callback,n=e.label,a=e.max,r=e.min,i=e.name,u=e.step,l=void 0===u?"1":u,p=e.value,s=document.createElement("span");s.innerHTML="("+r+" - "+a+")";var c=document.createElement("label");c.innerHTML=n+": ",c.appendChild(s);var d=document.createElement("span");d.innerHTML=p;var m=document.createElement("input");m.setAttribute("type","range"),m.setAttribute("min",r),m.setAttribute("max",a),m.setAttribute("value",p),m.setAttribute("step",l),m.setAttribute("class","OptionsInput OptionsInput--"+i),m.addEventListener("change",function(e){t(i,e.target.value),d.innerHTML=e.target.value});var o=document.createElement("div");return o.appendChild(c),o.appendChild(m),o.appendChild(d),o}exports.__esModule=!0,exports.createOption=e;
},{}],"utTU":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var t=e(require("./vertigo")),a=e(require("./spiral")),n=require("./demo-helpers"),i=document.querySelector(".TestImage--hello"),r=document.querySelector(".SvgWrapper-svg--dots"),o=document.querySelector(".FileInput--dots"),l=document.querySelector(".Options--dots"),u=document.querySelector(".Button--dotsDownload"),c={minimumDotRadius:1,maximumDotRadius:5,distanceBetweenDots:1,resolution:25};function m(){u.href="data:application/octet-stream;base64,"+btoa(r.innerHTML)}function s(e,t){c[e]=parseInt(t,10),p.setOptions(c,m)}var d=[{callback:s,label:"Resolution",max:50,min:5,name:"resolution",value:25},{callback:s,label:"Minimum dot radius",max:5,min:0,name:"minimumDotRadius",value:1},{callback:s,label:"Maximum dot radius",max:20,min:1,name:"maximumDotRadius",value:5},{callback:s,label:"Distance between dots",max:20,min:0,name:"distanceBetweenDots",value:2}];d.forEach(function(e){l.appendChild(n.createOption(e))});var p=new t.default(c);r.appendChild(p.svg),o.addEventListener("change",function(){var e=o.files[0],t=URL.createObjectURL(e);p.convertImage(t,m)}),p.convertImage(i.getAttribute("src"),m);var v=document.querySelector(".Options--spiral"),b=document.querySelector(".Button--spiralDownload"),g=document.querySelector(".FileInput--spiral"),f=document.querySelector(".SvgWrapper-svg--spiral"),h={minimumLineWidth:1,maximumLineWidth:5,distanceBetweenLines:1,startingRadius:5};function x(){b.href="data:application/octet-stream;base64,"+btoa(f.innerHTML)}function L(e,t){h[e]=parseInt(t,10),y.setOptions(h,x)}var q=[{callback:L,label:"Minimum line width",min:0,max:5,name:"minimumLineWidth",value:1},{callback:L,label:"Maximum line width",min:1,max:20,name:"maximumLineWidth",value:5},{callback:L,label:"Distance between lines",min:0,max:10,name:"distanceBetweenLines",value:1},{callback:L,label:"Starting radius",min:3,max:300,name:"startingRadius",value:5}];q.forEach(function(e){v.appendChild(n.createOption(e))});var y=new a.default(h);f.appendChild(y.svg),g.addEventListener("change",function(){var e=g.files[0],t=URL.createObjectURL(e);y.convertImage(t,x)}),y.convertImage(i.getAttribute("src"),x);var S=document.querySelectorAll(".TestImageButton");Array.prototype.slice.call(S).forEach(function(e){e.addEventListener("click",function(e){var t=document.querySelector(e.target.getAttribute("data-image")).getAttribute("src");"dots"===e.target.getAttribute("data-type")?p.convertImage(t,m):y.convertImage(t,x)})});
},{"./vertigo":"GOHQ","./spiral":"Dg+0","./demo-helpers":"w4sW"}]},{},["utTU"], null)
//# sourceMappingURL=/vertigo/demo.480737d4.js.map